<table class="table table-bordered">
	<thead>
		<tr>
			<th>{{ i18n.tasks.view.agreements.fields.agreemer }}</th>
			<th>{{ i18n.tasks.view.agreements.fields.dueDate }}</th>
			<th class="onepct">{{ i18n.tasks.view.agreements.fields.done }}</th>
			<th class="span3">{{ i18n.tasks.view.agreements.fields.agreedAt }}</th>
			<th class="span4">{{ i18n.tasks.view.agreements.fields.comment }}</th>
			<th class="onepct">&nbsp;</th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="a in model.Agreements">
			<td>{{ a.Agreemer }}</td>
			<td>{{ a.DueDate | date:'dd.MM.yyyy' }}</td>
			<td>
				<i ng-class="{'icon-check': a.Done, 'icon-check-empty': !a.Done}"></i>
			</td>
			<td>{{ a.AgreedAt | date:'dd.MM.yyyy hh:mm' }}</td>
			<td>{{ a.Comment }}</td>
			<td>
				<button type="button" class="close" title="Удалить согласущего" ng-click="removeAgreement(a)" ng-show="isAgreementsEditable()">&times;</button>
			</td>
		</tr>
	</tbody>
	<tfoot ng-show="isAgreementsEditable()">
		<tr ng-show="validation.generalErrors">
			<td colspan="6">
				<ago-error-msg></ago-error-msg>
			</td>
		</tr>
		<tr ng-show="editables.addState">
			<td colspan="6">
				<form class="form-inline" novalidate>
					<div class="col-sm-4" style="padding-left: 0px; padding-right: 0px">
						<input type="text" name="agreemer" lookup="home/projects/lookupParticipant" ng-model="editables.newAgreemer" placeholder="{{ i18n.tasks.view.agreements.placeholders.agreemer }}" class="form-control" />
					</div>
					<div class="input-group col-sm-2" style="padding-left: 0px; padding-right: 0px">
						<!-- <input type="text" class="form-control" ng-model="editables.dueDate" placeholder="{{ i18n.tasks.view.agreements.placeholders.dueDate }}" ago-datepicker />
						<span class="input-group-addon">
							<span data-date-icon="icon-calendar" data-time-icon="icon-time" class="icon-calendar"></span>
						</span> -->
						<input type="text" ui-date="{dateFormat:'dd.mm.yy', changeMonth: true, changeYear: true}" ng-model="editables.dueDate"  class="form-control" placeholder="{{ i18n.tasks.view.agreements.placeholders.dueDate }}" />
					</div>
					<div class="col-sm-2" style="padding-left: 0px">
						<button type="button" class="btn" ng-click="addAgreemer()" ng-disabled="!addAgreementAvailable()">{{ i18n.core.buttons.add }}</button>
					</div>

					<div class="btn-group pull-right">
						<a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
							{{ i18n.tasks.view.agreements.buttons.agreement.dropdown }}
							<span class="caret"></span>
						</a>
						<ul class="dropdown-menu">
							<li><a ng-click="agree()">{{ i18n.tasks.view.agreements.buttons.agreement.agree }}</a></li>
							<li><a ng-click="toggleAgree()">{{ i18n.tasks.view.agreements.buttons.agreement.toggleAgree }}</a></li>
							<li class="divider"></li>
							<li><a ng-click="revoke()">{{ i18n.tasks.view.agreements.buttons.agreement.revoke }}</a></li>
						</ul>
					</div>
				</form>
			</td>
		</tr>
		<tr ng-hide="editables.addState">
			<td colspan="6">
				<div class="input-group col-xs-8">
					<input type="text" ng-model="editables.comment" class="form-control" placeholder="{{ i18n.tasks.view.agreements.placeholders.comment }}">
					<span class="input-group-btn">
						<button type="button" class="btn" ng-click="toggleAgree()" title="{{ i18n.core.buttons.cancel }}">
							<i class="icon-reply"></i>
						</button>
						<button type="button" class="btn" ng-click="agree()" title="{{ i18n.tasks.view.agreements.buttons.agreement.agree }}">
							<i class="icon-ok"></i>
						</button>
					</span>
				</div>
			</td>
		</tr>
	</tfoot>
</table>